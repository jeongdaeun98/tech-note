# 도커를 왜 사용하게 되었을까?


|DevOps | SRE | 
| -------- | -------- |
| 운영관점에서 자동화를 지향함. | 성능향상을 지향 → 시스템 자동화 |
| 비즈니스의 빠른 변화에 대응하기 위해 프로세스를 자동화시킴.|  log에 대한 피드백을 통해 개선 상태를 배포     |

### **더 좋은 성능을 내는 서비스를 위한다는 목표는 같음**

## CI/CD 왜해야하는가?

- 무중단 배포 → 지속적인 배포가 가능 → 빠른 개발, 빠른 출시!
: 개발 후에 검증이나 배포 과정을 줄여주기 때문에
- 충분한 테스트를 거쳐 배포에 따른 문제를 최소화함.
- Human error 예방
- 전략적인 배포 기법을 사용할 수 있음.

    ### 카나리 배포

    지정한 서버 혹은 특정 유저에게만 배포했다가 정상적이면 전체 배포한다.

    - A/B 테스트 가능
    - 성능 모니터링에 유용

    ### 블루 그린 배포

    구 버전을 블루, 신 버전을 그린이라고 한다.

    신버전을 배포하고 일제히 전환하여 모든 연결을 신버전을 바라보게 하는 전략.

    구 버전, 신버전 서버를 동시에 나란히 구성하여 배포 시점에 트래픽이 일제히 전환됨.

    - 빠른 롤백이 가능.
    - 그러나 시스템 자원이 두배로 필요하여 비용 많이 발생.

    ### 롤링 배포

    일반적인 배포, 단순히 서버 구성해서 배포하는 전략.

    - 배포 중 한쪽 인스턴스의 수가 감소되므로 서버 처리 용량을 미리 고려해야 함.
- 장애 대응할 때 빠르고 정확한 장애 진단 및 복구
- 서비스 상황 대응
Scale-out/in & 빠르고 정확한 롤백
- 보안
네트워크 분리, 접근제어

## Snowflakes (눈송이) 서버

서버 운영을 하다보면, 각 서버마다 운영기록이 달랐다.

즉, A서버와 B서버의 설정 환경이 달라 각 서버를 운영하는 것에 대한 결과도 다른 상황이 발생했다.

눈송이의 모양이 각각 다르듯, 서버들도 서로 다른 모습을 갖고 있는 것을 눈송이 서버라 한다.

## 도커의 사용

도커를 사용하면서 서버를 똑같은 상태로 만들 수 있게 되었다.

도커는 **도커 파일**을 가지고 **도커 이미지**를 만들게 되는데,

도커 이미지는 도커 파일을 실행시킨 시점의 정보들을 기억하고 있다.

이로써 서버환경을 동일하고 쉽게 관리할 수 있고 CD를 수월하게 만들어주는 플랫폼이다.