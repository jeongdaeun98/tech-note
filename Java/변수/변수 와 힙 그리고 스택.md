# 변수

| 변수명 | 선언 위치 | 생성시기 | 소멸 | 설명 |
| --- | --- | --- | --- | --- |
| 클래스 변수 (= static 변수) | 클래스 영역 | 클래스가 메모리에 올라갈 때 |  - java 8 이후엔, 변수가 null로 설정되었을 때 GC에 의해 제거 <br/><br/> - 프로그램이 끝나고 메모리를 해제할 때 소멸 | 객체를 공유하는 변수로 여러 객체에서 공통으로 사용하고 싶을 때 정의 |
| 인스턴스 변수 | 클래스 영역 | 인스턴스가 생성되었을 때 |  인스턴스 생성만 하고 참조 변수가 없는 경우, GC에 의해 제거 | - 클래스 영역에서 static이 아닌 변수 <br/><br/>  - 개별적인 저장 공간으로 객체/ 인스턴스 마다 다른 값 저장 |
| 지역 변수 | 메서드 영역 | 위치하고 있는 메서드가 수행되었을 때 | 메서드 수행이 끝나면 제거 | - 메서드 내에서 선언됨 <br/><br/> - 초깃값을 지정한 후 사용 가능 |
| 매개 변수 | 메서드 영역 | 위치하고 있는 메서드가 수행되었을 때 | 메서드 수행이 끝나면 제거 | 메서드 호출 시 전달하는 값을 가지고 있는 인수 |

[JVM 스택](https://www.notion.so/JVM-98b41c8d42a44b03a5b1d0d71ea2b328?pvs=21) 

[힙](https://www.notion.so/d06c3b180eec47ee9e44f18efe8644b9?pvs=21) 

## 힙 vs 스택 in JAVA

- 힙 메모리는 모든 스레드에서 공통적으로 사용되는 메모리이지만 스택 메모리는 하나의 스레드가 실행될 때 사용.
    - 그래서 힙과 메서드 공간에 저장된 객체는 어디서든지 접근이 가능하지만, 스택 메모리는 다른 스레드가 접근할 수 없다.
- 언제든지 객체가 생성되면 항상 힙 공간에 저장되며, 스택 메모리는 힙 공간에 있는 객체를 참조만 한다.
    - 즉, 스택 메모리는 원시 타입의 지역변수와 힙 공간에 있는 객체 참조 변수만 갖고 있다.
- 자바 코드를 실행할때 따로 `Xms`과 `Xmx` 옵션을 사용하면 힙 메모리의 초기 사이즈와 최대 사이즈를 조절할 수 있다.
- 스택 메모리가 가득차면 자바에서는 java.lang.StackOverFlowError를 발생.힙 메모리가 가득차면 java.lang.OutOfMemoryError : Java Heap Space 에러를 발생
- 스택 메모리 사이즈는 힙 메모리와 비교했을 때 매우 적다. 하지만 스택 메모리는 간단한 메모리 할당 방법(LIFO)를 사용하므로 힙 메모리보다 빠르다.

---

[https://inpa.tistory.com/entry/JAVA-☕-그림으로-보는-자바-코드의-메모리-영역스택-힙](https://inpa.tistory.com/entry/JAVA-%E2%98%95-%EA%B7%B8%EB%A6%BC%EC%9C%BC%EB%A1%9C-%EB%B3%B4%EB%8A%94-%EC%9E%90%EB%B0%94-%EC%BD%94%EB%93%9C%EC%9D%98-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EC%98%81%EC%97%AD%EC%8A%A4%ED%83%9D-%ED%9E%99)

[https://montoo.tistory.com/entry/JAVA-basic-변수의-유효-범위-scope](https://montoo.tistory.com/entry/JAVA-basic-%EB%B3%80%EC%88%98%EC%9D%98-%EC%9C%A0%ED%9A%A8-%EB%B2%94%EC%9C%84-scope)

https://deveric.tistory.com/123
