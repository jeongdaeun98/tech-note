## 커널

![](https://i.imgur.com/xvdgxbK.png)


커널은 운영 체제의 핵심 부분으로 시스템의 모든 것을 완전히 통제한다.

### 역할

- 보안
커널은 컴퓨터 하드웨어와 프로세스의 보안을 책임진다.
- 자원 관리
한정된 시스템 자원을 효율적으로 관리하여 프로그램의 실행을 원활하게 한다. 특히 프로세스에 처리기를 할당하는 것을 스케줄링이라고 한다.
- 추상화
같은 종류의 부품에 대해 다양한 하드웨어를 설계할 수 있기 때문에 하드웨어에 직접 접근하는 것이 매우 복잡하게 할 수 있다. 일반적으로 커널은 운영체제의 복잡한 내부를 감추고 깔끔하고 일관성 있는 인터페이스를 하드웨어에 제공하기 위해 몇가지 하드웨어 추상화 들로 구현된다. 이 하드웨어 추상화는 프로그래머가 여러 장비에 작동하는 프로그램을 개발하는 것을 돕는다. 하드웨어 추상화 계층(HAL)은 제조사의 장비 규격에 대한 특정한 명령어를 제공하는 소프트웨어 드라이버에 의지한다.

### 역사

초창기 컴퓨터에서 운영 체제 커널은 필수적인 것이 아니어서 다른 프로그램을 실행하기 위해 부팅으로 다시 입력 자료를 읽어들여야 하는 방식이었다. 이런 과정에 불편함을 느껴 다른 프로그램으로 교체하거나 새로운 프로그램을 개발하는데 로더와 디버거같은 프로그램들이 상주해있는 것이 유리하다는 것을 알게 되었다. 이와 같은 로더, 디버거들이 초기 운영체제 커널의 기초가 되었다.

## 컴퓨터가 켜지는 과정

CPU는 컴퓨터에 전원이 들어오면 제일먼저 메모리의 0번지 주소 데이터를 읽는다.

메모리에 0번지에는 ROM이 있는데, 여기에서 읽어들인 내용을 바탕으로 하드웨어 상태를 확인하는 POST(Power On Self Test)를 수행한다. 

그리고 운영체제를 로드하기 위해 디스크의 첫번째 섹터인 마스터 부트 레코드(MBR)을 읽는다.

- MBR이란?

    운영체계가 어디에, 어떻게 위치해 있는지를 식별하여 컴퓨터의 주기억장치에 적재될 수 있도록 하기 위한 정보로서 하드디스크나 디스켓의 첫번째 섹터에 저장되어있다.

    또한 하드디스크가 포맷될 때 나뉘어지는 각 파티션의 위치에 대한 정보를 가지고 있다.

    그리고 MBR은 (메모리에 적재될 운영체계가 저장되어있는) 파티션의 부트 섹터 레코드를 읽을 수 있는 프로그램을 포함하고 있다.

이 MBR에서 부트 코드가 실행된다. 부트코드는 부팅가능한 파티션을 찾아 해당 파티션의 부트 레코드를 호출하고, 해당 파티션의 부트 레코드는 RAM에 적재된다.

위의 과정이 끝나면 부팅이 시작된다.

## Cgroup

하드웨어 자원을 그룹별로 관리하는 리눅스 모듈이다. 

각 그룹은 시스템에서 설정한 값만큼 하드웨어를 사용할 수 있다.

- 어떤 그룹이 CPU를 더 많이 차지할 것인지?
- 그룹이 얼마만큼 메모리를 사용 할 수 있는지?
- 네트워크 우선순위를 얼만큼 줄 것인가.

프로세스를 별도의 자원으로 격리시킨다.